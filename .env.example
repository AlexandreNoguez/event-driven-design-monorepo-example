# Ambiente
NODE_ENV=development

# Apps (frontend)
USER_WEB_PORT=5173
ADMIN_WEB_PORT=5174

# API Gateway / servi√ßos
API_GATEWAY_PORT=3000
PROJECTION_SERVICE_PORT=3001
UPLOAD_SERVICE_PORT=3002
VALIDATOR_SERVICE_PORT=3003
THUMBNAIL_SERVICE_PORT=3004
EXTRACTOR_SERVICE_PORT=3005
NOTIFICATION_SERVICE_PORT=3006
AUDIT_SERVICE_PORT=3007
API_GATEWAY_UPLOAD_PRESIGNED_EXPIRES_SECONDS=900
UPLOAD_SERVICE_COMMAND_QUEUE=q.upload.commands
UPLOAD_SERVICE_COMMAND_PREFETCH=10
UPLOAD_SERVICE_OUTBOX_POLL_INTERVAL_MS=2000
UPLOAD_SERVICE_OUTBOX_BATCH_SIZE=50
UPLOAD_SERVICE_OBJECT_KEY_PREFIX=raw
VALIDATOR_SERVICE_QUEUE=q.validator
VALIDATOR_SERVICE_PREFETCH=10
VALIDATOR_SERVICE_CONSUMER_NAME=validator:file-uploaded
VALIDATOR_SERVICE_MAX_SIZE_BYTES=20971520
VALIDATOR_SERVICE_ALLOWED_MIME_TYPES=image/png,image/jpeg,image/webp,application/pdf
VALIDATOR_SERVICE_SIGNATURE_READ_BYTES=64
THUMBNAIL_SERVICE_QUEUE=q.thumbnail
THUMBNAIL_SERVICE_PREFETCH=5
THUMBNAIL_SERVICE_CONSUMER_NAME=thumbnail:file-validated
THUMBNAIL_SERVICE_SUPPORTED_MIME_TYPES=image/png,image/jpeg,image/webp
THUMBNAIL_SERVICE_WIDTH=320
THUMBNAIL_SERVICE_HEIGHT=320
THUMBNAIL_SERVICE_WEBP_QUALITY=82
THUMBNAIL_SERVICE_OBJECT_KEY_PREFIX=thumbnails
EXTRACTOR_SERVICE_QUEUE=q.extractor
EXTRACTOR_SERVICE_PREFETCH=5
EXTRACTOR_SERVICE_CONSUMER_NAME=extractor:file-validated
EXTRACTOR_SERVICE_INCLUDE_SHA256=true
EXTRACTOR_SERVICE_IMAGE_METADATA_MIME_TYPES=image/png,image/jpeg,image/webp,image/gif
PROJECTION_SERVICE_QUEUE=q.projection
PROJECTION_SERVICE_PREFETCH=50
PROJECTION_SERVICE_CONSUMER_NAME=projection:events

# Postgres
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=event_pipeline
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/event_pipeline

# RabbitMQ
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_USER=event
RABBITMQ_PASSWORD=event
RABBITMQ_URL=amqp://event:event@localhost:5672
RABBITMQ_EXCHANGE_EVENTS=domain.events
RABBITMQ_EXCHANGE_COMMANDS=domain.commands

# MinIO (S3 local)
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ENDPOINT=localhost
MINIO_USE_SSL=false
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET_UPLOADS=uploads
MINIO_BUCKET_THUMBNAILS=thumbnails
S3_REGION=us-east-1

# Keycloak
KEYCLOAK_PORT=8080
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KEYCLOAK_REALM=event-pipeline
KEYCLOAK_CLIENT_ID=user-web
KEYCLOAK_ADMIN_CLIENT_ID=admin-web
KEYCLOAK_GATEWAY_CLIENT_ID=api-gateway
KEYCLOAK_GATEWAY_CLIENT_SECRET=dev-api-gateway-secret
KEYCLOAK_URL=http://localhost:8080

# JWT (gateway)
JWT_ISSUER_URL=http://localhost:8080/realms/event-pipeline
JWT_AUDIENCE=account
JWT_JWKS_URL=
JWT_JWKS_CACHE_TTL_MS=300000
API_GATEWAY_AUTH_DEV_BYPASS=false

# Mailhog
MAILHOG_SMTP_HOST=localhost
MAILHOG_SMTP_PORT=1025
MAILHOG_UI_PORT=8025
MAILHOG_UI_URL=http://localhost:8025
MAIL_FROM=no-reply@event-pipeline.local
